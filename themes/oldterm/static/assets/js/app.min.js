function prepareAccessKeys(){for(var e=[],t=document.getElementsByTagName("a"),n=0;n<t.length;n++)if(t[n].hasAttribute("accesskey")){null===t[n].firstElementChild?t[n].innerHTML:t[n].firstElementChild.innerHTML;e.push({key:t[n].getAttribute("accesskey"),href:t[n].getAttribute("href"),external:t[n].hasAttribute("target")&&"_blank"===t[n].getAttribute("target")})}return e}!function(e,t){var r=prepareAccessKeys(),n=document.getElementsByClassName("filemanager")[0];if(void 0!==n){var s=n.firstElementChild;s.setAttribute("class","active")}document.addEventListener("keydown",function(n){console.log(n),r.forEach(function(e,t){n.key===e.key&&(e.external?window.open(e.href):window.location.pathname=e.href)}),"ArrowDown"===n.key&&null!==s.nextElementSibling&&(s.removeAttribute("class"),s.nextElementSibling.setAttribute("class","active"),s=s.nextElementSibling),"ArrowUp"===n.key&&null!==s.previousElementSibling&&(s.removeAttribute("class"),s.previousElementSibling.setAttribute("class","active"),s=s.previousElementSibling),"Enter"===n.key&&r.forEach(function(e,t){e.key===s.getElementsByClassName("key")[0].innerHTML&&(e.external?window.open(e.href):window.location.pathname=e.href)})});var i=document.getElementsByClassName("site-main")[0].getElementsByTagName("img");Array.from(i).forEach(function(e){console.log(e);var t=e.src.substr(0,e.src.lastIndexOf("/")+1),n=e.src.substr(e.src.lastIndexOf("/")+1,e.src.lastIndexOf(".")-e.src.lastIndexOf("/")-1),r=e.src.substring(e.src.lastIndexOf("."));2==window.devicePixelRatio?n=-1===n.indexOf("@2x")?n+"@2x":n:(n=-1!==n.indexOf("@2x")?n.substr(0,n.indexOf("@2x")):n,console.log(t+n+r)),e.setAttribute("src",t+n+r)})}(window,document);